/*!
 * Chart.js
 * http://chartjs.org/
 *
 * Copyright 2013 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
var Chart=function(e){function t(e,t,a){var n=t.steps*t.stepValue,l=e-t.graphMin,o=r(l/n,1,0);return a*t.steps*o}function a(e,t,a,n){function l(){var l=e.animation?r(s(c),null,0):1;m(n),e.scaleOverlay?(a(l),t()):(t(),a(l))}function o(){c+=i,l(),1>=c?F(o):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var i=e.animation?1/r(e.animationSteps,Number.MAX_VALUE,1):1,s=f[e.animationEasing],c=e.animation?0:1;"function"!=typeof t&&(t=function(){}),F(o)}function n(e,t,a,n,l,o){function i(e){return Math.floor(Math.log(e)/Math.LN10)}var s,r,u,h,f,S,p;for(S=n-l,p=i(S),s=Math.floor(l/(1*Math.pow(10,p)))*Math.pow(10,p),r=Math.ceil(n/(1*Math.pow(10,p)))*Math.pow(10,p),u=r-s,h=Math.pow(10,p),f=Math.round(u/h);a>f||f>t;)a>f?(h/=2,f=Math.round(u/h)):(h*=2,f=Math.round(u/h));var m=[];if(o)for(var v=1;f+1>v;v++)m.push(d(o,{value:(s+h*v).toFixed(c(h))}));return{steps:f,stepValue:h,graphMin:s,labels:m}}function l(e){return Math.max.apply(Math,e)}function o(e){return Math.min.apply(Math,e)}function i(e,t){return e?e:t}function s(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,t,a){return s(t)&&e>t?t:s(a)&&a>e?a:e}function c(e){return 0!=e%1?e.toString().split(".")[1].length:0}function u(e,t){var a={};for(var n in e)a[n]=e[n];for(var n in t)a[n]=t[n];return a}function d(e,t){var a=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):w[e]=w[e]||d(document.getElementById(e).innerHTML);return t?a(t):a}var h=this,f={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,n=1;if(0==e)return 0;if(1==(e/=1))return 1;if(a||(a=.3),n<Math.abs(1)){n=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/n);return-(n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*2*Math.PI/a))},easeOutElastic:function(e){var t=1.70158,a=0,n=1;if(0==e)return 0;if(1==(e/=1))return 1;if(a||(a=.3),n<Math.abs(1)){n=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/n);return n*Math.pow(2,-10*e)*Math.sin((1*e-t)*2*Math.PI/a)+1},easeInOutElastic:function(e){var t=1.70158,a=0,n=1;if(0==e)return 0;if(2==(e/=.5))return 1;if(a||(a=1*.3*1.5),n<Math.abs(1)){n=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/n);return 1>e?-.5*n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*2*Math.PI/a):.5*n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*2*Math.PI/a)+1},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-f.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*f.easeInBounce(2*e):.5*f.easeOutBounce(2*e-1)+.5}},S=e.canvas.width,p=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=S+"px",e.canvas.style.height=p+"px",e.canvas.height=p*window.devicePixelRatio,e.canvas.width=S*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,a){h.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=a?u(h.PolarArea.defaults,a):h.PolarArea.defaults;return new v(t,n,e)},this.Radar=function(t,a){h.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=a?u(h.Radar.defaults,a):h.Radar.defaults;return new g(t,n,e)},this.Pie=function(t,a){h.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=a?u(h.Pie.defaults,a):h.Pie.defaults;return new b(t,n,e)},this.Doughnut=function(t,a){h.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var n=a?u(h.Doughnut.defaults,a):h.Doughnut.defaults;return new M(t,n,e)},this.Line=function(t,a){h.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=a?u(h.Line.defaults,a):h.Line.defaults;return new k(t,n,e)},this.Bar=function(t,a){h.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var n=a?u(h.Bar.defaults,a):h.Bar.defaults;return new L(t,n,e)};var m=function(e){e.clearRect(0,0,S,p)},v=function(e,s,r){function u(){v=o([S,p])/2,v-=l([.5*s.scaleFontSize,.5*s.scaleLineWidth]),M=2*s.scaleFontSize,s.scaleShowLabelBackdrop&&(M+=2*s.scaleBackdropPaddingY,v-=1.5*s.scaleBackdropPaddingY),k=v,M=i(M,5)}function h(){for(var e=0;e<b.steps;e++)if(s.scaleShowLine&&(r.beginPath(),r.arc(S/2,p/2,g*(e+1),0,2*Math.PI,!0),r.strokeStyle=s.scaleLineColor,r.lineWidth=s.scaleLineWidth,r.stroke()),s.scaleShowLabels){r.textAlign="center",r.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily;var t=b.labels[e];if(s.scaleShowLabelBackdrop){var a=r.measureText(t).width;r.fillStyle=s.scaleBackdropColor,r.beginPath(),r.rect(Math.round(S/2-a/2-s.scaleBackdropPaddingX),Math.round(p/2-g*(e+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(a+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),r.fill()}r.textBaseline="middle",r.fillStyle=s.scaleFontColor,r.fillText(t,S/2,p/2-g*(e+1))}}function f(a){var n=-Math.PI/2,l=2*Math.PI/e.length,o=1,i=1;s.animation&&(s.animateScale&&(o=a),s.animateRotate&&(i=a));for(var c=0;c<e.length;c++)r.beginPath(),r.arc(S/2,p/2,o*t(e[c].value,b,g),n,n+i*l,!1),r.lineTo(S/2,p/2),r.closePath(),r.fillStyle=e[c].color,r.fill(),s.segmentShowStroke&&(r.strokeStyle=s.segmentStrokeColor,r.lineWidth=s.segmentStrokeWidth,r.stroke()),n+=i*l}function m(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.length;n++)e[n].value>t&&(t=e[n].value),e[n].value<a&&(a=e[n].value);var l=Math.floor(k/(.66*M)),o=Math.floor(.5*(k/M));return{maxValue:t,minValue:a,maxSteps:l,minSteps:o}}var v,g,b,M,k,L,F;if(u(),L=m(),F=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride){b={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]};for(var w=0;w<b.steps;w++)F&&b.labels.push(d(F,{value:(s.scaleStartValue+s.scaleStepWidth*w).toFixed(c(s.scaleStepWidth))}))}else b=n(k,L.maxSteps,L.minSteps,L.maxValue,L.minValue,F);g=v/b.steps,a(s,h,f,r)},g=function(e,s,u){function h(a){var n=2*Math.PI/e.datasets[0].data.length;u.save(),u.translate(S/2,p/2);for(var l=0;l<e.datasets.length;l++){u.beginPath(),u.moveTo(0,a*-1*t(e.datasets[l].data[0],M,b));for(var o=1;o<e.datasets[l].data.length;o++)u.rotate(n),u.lineTo(0,a*-1*t(e.datasets[l].data[o],M,b));if(u.closePath(),u.fillStyle=e.datasets[l].fillColor,u.strokeStyle=e.datasets[l].strokeColor,u.lineWidth=s.datasetStrokeWidth,u.fill(),u.stroke(),s.pointDot){u.fillStyle=e.datasets[l].pointColor,u.strokeStyle=e.datasets[l].pointStrokeColor,u.lineWidth=s.pointDotStrokeWidth;for(var i=0;i<e.datasets[l].data.length;i++)u.rotate(n),u.beginPath(),u.arc(0,a*-1*t(e.datasets[l].data[i],M,b),s.pointDotRadius,2*Math.PI,!1),u.fill(),u.stroke()}u.rotate(n)}u.restore()}function f(){var t=2*Math.PI/e.datasets[0].data.length;if(u.save(),u.translate(S/2,p/2),s.angleShowLineOut){u.strokeStyle=s.angleLineColor,u.lineWidth=s.angleLineWidth;for(var a=0;a<e.datasets[0].data.length;a++)u.rotate(t),u.beginPath(),u.moveTo(0,0),u.lineTo(0,-g),u.stroke()}for(var n=0;n<M.steps;n++){if(u.beginPath(),s.scaleShowLine){u.strokeStyle=s.scaleLineColor,u.lineWidth=s.scaleLineWidth,u.moveTo(0,-b*(n+1));for(var l=0;l<e.datasets[0].data.length;l++)u.rotate(t),u.lineTo(0,-b*(n+1));u.closePath(),u.stroke()}if(s.scaleShowLabels){if(u.textAlign="center",u.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,u.textBaseline="middle",s.scaleShowLabelBackdrop){var o=u.measureText(M.labels[n]).width;u.fillStyle=s.scaleBackdropColor,u.beginPath(),u.rect(Math.round(-o/2-s.scaleBackdropPaddingX),Math.round(-b*(n+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(o+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),u.fill()}u.fillStyle=s.scaleFontColor,u.fillText(M.labels[n],0,-b*(n+1))}}for(var i=0;i<e.labels.length;i++){u.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,u.fillStyle=s.pointLabelFontColor;var r=Math.sin(t*i)*(g+s.pointLabelFontSize),c=Math.cos(t*i)*(g+s.pointLabelFontSize);u.textAlign=t*i==Math.PI||0==t*i?"center":t*i>Math.PI?"right":"left",u.textBaseline="middle",u.fillText(e.labels[i],r,-c)}u.restore()}function m(){g=o([S,p])/2,k=2*s.scaleFontSize;for(var t=0,a=0;a<e.labels.length;a++){u.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily;var n=u.measureText(e.labels[a]).width;n>t&&(t=n)}g-=l([t,1.5*(s.pointLabelFontSize/2)]),g-=s.pointLabelFontSize,g=r(g,null,0),L=g,k=i(k,5)}function v(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.datasets.length;n++)for(var l=0;l<e.datasets[n].data.length;l++)e.datasets[n].data[l]>t&&(t=e.datasets[n].data[l]),e.datasets[n].data[l]<a&&(a=e.datasets[n].data[l]);var o=Math.floor(L/(.66*k)),i=Math.floor(.5*(L/k));return{maxValue:t,minValue:a,maxSteps:o,minSteps:i}}var g,b,M,k,L,F,w;e.labels||(e.labels=[]),m();var F=v();if(w=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride){M={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]};for(var P=0;P<M.steps;P++)w&&M.labels.push(d(w,{value:(s.scaleStartValue+s.scaleStepWidth*P).toFixed(c(s.scaleStepWidth))}))}else M=n(L,F.maxSteps,F.minSteps,F.maxValue,F.minValue,w);b=g/M.steps,a(s,f,h,u)},b=function(e,t,n){function l(a){var l=-Math.PI/2,o=1,r=1;t.animation&&(t.animateScale&&(o=a),t.animateRotate&&(r=a));for(var c=0;c<e.length;c++){var u=r*e[c].value/i*2*Math.PI;n.beginPath(),n.arc(S/2,p/2,o*s,l,l+u),n.lineTo(S/2,p/2),n.closePath(),n.fillStyle=e[c].color,n.fill(),t.segmentShowStroke&&(n.lineWidth=t.segmentStrokeWidth,n.strokeStyle=t.segmentStrokeColor,n.stroke()),l+=u}}for(var i=0,s=o([p/2,S/2])-5,r=0;r<e.length;r++)i+=e[r].value;a(t,null,l,n)},M=function(e,t,n){function l(a){var l=-Math.PI/2,o=1,c=1;t.animation&&(t.animateScale&&(o=a),t.animateRotate&&(c=a));for(var u=0;u<e.length;u++){var d=c*e[u].value/i*2*Math.PI;n.beginPath(),n.arc(S/2,p/2,o*s,l,l+d,!1),n.arc(S/2,p/2,o*r,l+d,l,!0),n.closePath(),n.fillStyle=e[u].color,n.fill(),t.segmentShowStroke&&(n.lineWidth=t.segmentStrokeWidth,n.strokeStyle=t.segmentStrokeColor,n.stroke()),l+=d}}for(var i=0,s=o([p/2,S/2])-5,r=s*(t.percentageInnerCutout/100),c=0;c<e.length;c++)i+=e[c].value;a(t,null,l,n)},k=function(e,l,o){function i(a){function n(n,l){return W-a*t(e.datasets[n].data[l],v,m)}function i(e){return P+L*e}for(var s=0;s<e.datasets.length;s++){o.strokeStyle=e.datasets[s].strokeColor,o.lineWidth=l.datasetStrokeWidth,o.beginPath(),o.moveTo(P,W-a*t(e.datasets[s].data[0],v,m));for(var r=1;r<e.datasets[s].data.length;r++)l.bezierCurve?o.bezierCurveTo(i(r-.5),n(s,r-1),i(r-.5),n(s,r),i(r),n(s,r)):o.lineTo(i(r),n(s,r));if(o.stroke(),l.datasetFill?(o.lineTo(P+L*(e.datasets[s].data.length-1),W),o.lineTo(P,W),o.closePath(),o.fillStyle=e.datasets[s].fillColor,o.fill()):o.closePath(),l.pointDot){o.fillStyle=e.datasets[s].pointColor,o.strokeStyle=e.datasets[s].pointStrokeColor,o.lineWidth=l.pointDotStrokeWidth;for(var c=0;c<e.datasets[s].data.length;c++)o.beginPath(),o.arc(P+L*c,W-a*t(e.datasets[s].data[c],v,m),l.pointDotRadius,0,2*Math.PI,!0),o.fill(),o.stroke()}}}function s(){o.lineWidth=l.scaleLineWidth,o.strokeStyle=l.scaleLineColor,o.beginPath(),o.moveTo(S-F/2+5,W),o.lineTo(S-F/2-w-5,W),o.stroke(),y>0?(o.save(),o.textAlign="right"):o.textAlign="center",o.fillStyle=l.scaleFontColor;for(var t=0;t<e.labels.length;t++)o.save(),y>0?(o.translate(P+t*L,W+l.scaleFontSize),o.rotate(-(y*(Math.PI/180))),o.fillText(e.labels[t],0,0),o.restore()):o.fillText(e.labels[t],P+t*L,W+l.scaleFontSize+3),o.beginPath(),o.moveTo(P+t*L,W+3),l.scaleShowGridLines&&t>0?(o.lineWidth=l.scaleGridLineWidth,o.strokeStyle=l.scaleGridLineColor,o.lineTo(P+t*L,5)):o.lineTo(P+t*L,W+3),o.stroke();o.lineWidth=l.scaleLineWidth,o.strokeStyle=l.scaleLineColor,o.beginPath(),o.moveTo(P,W+5),o.lineTo(P,5),o.stroke(),o.textAlign="right",o.textBaseline="middle";for(var a=0;a<v.steps;a++)o.beginPath(),o.moveTo(P-3,W-(a+1)*m),l.scaleShowGridLines?(o.lineWidth=l.scaleGridLineWidth,o.strokeStyle=l.scaleGridLineColor,o.lineTo(P+w+5,W-(a+1)*m)):o.lineTo(P-.5,W-(a+1)*m),o.stroke(),l.scaleShowLabels&&o.fillText(v.labels[a],P-8,W-(a+1)*m)}function r(){var t=1;if(l.scaleShowLabels){o.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily;for(var a=0;a<v.labels.length;a++){var n=o.measureText(v.labels[a]).width;t=n>t?n:t}t+=10}w=S-t-F,L=Math.floor(w/(e.labels.length-1)),P=S-F/2-w,W=b+l.scaleFontSize/2}function u(){f=p,o.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily,F=1;for(var t=0;t<e.labels.length;t++){var a=o.measureText(e.labels[t]).width;//If the text length is longer - make that equal to longest text!
F=a>F?a:F}S/e.labels.length<F?(y=45,S/e.labels.length<Math.cos(y)*F?(y=90,f-=F):f-=Math.sin(y)*F):f-=l.scaleFontSize,f-=5,g=l.scaleFontSize,f-=g,b=f}function h(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.datasets.length;n++)for(var l=0;l<e.datasets[n].data.length;l++)e.datasets[n].data[l]>t&&(t=e.datasets[n].data[l]),e.datasets[n].data[l]<a&&(a=e.datasets[n].data[l]);var o=Math.floor(b/(.66*g)),i=Math.floor(.5*(b/g));return{maxValue:t,minValue:a,maxSteps:o,minSteps:i}}var f,m,v,g,b,M,k,L,F,w,P,W,y=0;if(u(),M=h(),k=l.scaleShowLabels?l.scaleLabel:"",l.scaleOverride){v={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]};for(var x=0;x<v.steps;x++)k&&v.labels.push(d(k,{value:(l.scaleStartValue+l.scaleStepWidth*x).toFixed(c(l.scaleStepWidth))}))}else v=n(b,M.maxSteps,M.minSteps,M.maxValue,M.minValue,k);m=Math.floor(b/v.steps),r(),a(l,s,i,o)},L=function(e,l,o){function i(a){o.lineWidth=l.barStrokeWidth;for(var n=0;n<e.datasets.length;n++){o.fillStyle=e.datasets[n].fillColor,o.strokeStyle=e.datasets[n].strokeColor;for(var i=0;i<e.datasets[n].data.length;i++){var s=P+l.barValueSpacing+L*i+y*n+l.barDatasetSpacing*n+l.barStrokeWidth*n;o.beginPath(),o.moveTo(s,W),o.lineTo(s,W-a*t(e.datasets[n].data[i],v,m)+l.barStrokeWidth/2),o.lineTo(s+y,W-a*t(e.datasets[n].data[i],v,m)+l.barStrokeWidth/2),o.lineTo(s+y,W),l.barShowStroke&&o.stroke(),o.closePath(),o.fill()}}}function s(){o.lineWidth=l.scaleLineWidth,o.strokeStyle=l.scaleLineColor,o.beginPath(),o.moveTo(S-F/2+5,W),o.lineTo(S-F/2-w-5,W),o.stroke(),x>0?(o.save(),o.textAlign="right"):o.textAlign="center",o.fillStyle=l.scaleFontColor;for(var t=0;t<e.labels.length;t++)o.save(),x>0?(o.translate(P+t*L,W+l.scaleFontSize),o.rotate(-(x*(Math.PI/180))),o.fillText(e.labels[t],0,0),o.restore()):o.fillText(e.labels[t],P+t*L+L/2,W+l.scaleFontSize+3),o.beginPath(),o.moveTo(P+(t+1)*L,W+3),o.lineWidth=l.scaleGridLineWidth,o.strokeStyle=l.scaleGridLineColor,o.lineTo(P+(t+1)*L,5),o.stroke();o.lineWidth=l.scaleLineWidth,o.strokeStyle=l.scaleLineColor,o.beginPath(),o.moveTo(P,W+5),o.lineTo(P,5),o.stroke(),o.textAlign="right",o.textBaseline="middle";for(var a=0;a<v.steps;a++)o.beginPath(),o.moveTo(P-3,W-(a+1)*m),l.scaleShowGridLines?(o.lineWidth=l.scaleGridLineWidth,o.strokeStyle=l.scaleGridLineColor,o.lineTo(P+w+5,W-(a+1)*m)):o.lineTo(P-.5,W-(a+1)*m),o.stroke(),l.scaleShowLabels&&o.fillText(v.labels[a],P-8,W-(a+1)*m)}function r(){var t=1;if(l.scaleShowLabels){o.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily;for(var a=0;a<v.labels.length;a++){var n=o.measureText(v.labels[a]).width;t=n>t?n:t}t+=10}w=S-t-F,L=Math.floor(w/e.labels.length),y=(L-2*l.scaleGridLineWidth-2*l.barValueSpacing-(l.barDatasetSpacing*e.datasets.length-1)-(l.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,P=S-F/2-w,W=b+l.scaleFontSize/2}function u(){f=p,o.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily,F=1;for(var t=0;t<e.labels.length;t++){var a=o.measureText(e.labels[t]).width;//If the text length is longer - make that equal to longest text!
F=a>F?a:F}S/e.labels.length<F?(x=45,S/e.labels.length<Math.cos(x)*F?(x=90,f-=F):f-=Math.sin(x)*F):f-=l.scaleFontSize,f-=5,g=l.scaleFontSize,f-=g,b=f}function h(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,n=0;n<e.datasets.length;n++)for(var l=0;l<e.datasets[n].data.length;l++)e.datasets[n].data[l]>t&&(t=e.datasets[n].data[l]),e.datasets[n].data[l]<a&&(a=e.datasets[n].data[l]);var o=Math.floor(b/(.66*g)),i=Math.floor(.5*(b/g));return{maxValue:t,minValue:a,maxSteps:o,minSteps:i}}var f,m,v,g,b,M,k,L,F,w,P,W,y,x=0;if(u(),M=h(),k=l.scaleShowLabels?l.scaleLabel:"",l.scaleOverride){v={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]};for(var C=0;C<v.steps;C++)k&&v.labels.push(d(k,{value:(l.scaleStartValue+l.scaleStepWidth*C).toFixed(c(l.scaleStepWidth))}))}else v=n(b,M.maxSteps,M.minSteps,M.maxValue,M.minValue,k);m=Math.floor(b/v.steps),r(),a(l,s,i,o)},F=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),w={}};