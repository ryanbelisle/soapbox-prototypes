function MediaQueryDispatch(){if(!matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!matchMedia("only all").matches}MediaQueryDispatch.prototype={register:function(e,r,i){var t=this.queries,a=i&&this.browserIsIncapable;return t[e]||(t[e]=new MediaQuery(e,a)),isFunction(r)&&(r={match:r}),isArray(r)||(r=[r]),each(r,function(r){t[e].addHandler(r)}),this},unregister:function(e,r){var i=this.queries[e];return i&&(r?i.removeHandler(r):(i.clear(),delete this.queries[e])),this}};